XTRACT,T0,NT1.
COMMENT. THIS EXTRACTS PP PROGS AND LIBRARIES FROM THE TUB DS TAPE
COMMENT. FOR MNF, PL/1, ALGOL60 AND ALGOL68
COMMENT. REQUIRES TAPE NBE_DS_L664.TAP
ATTACH,USERNUC,ID=CCT.
LIBRARY,USERNUC.
VSN(TAPE=TUB000)
REQUEST(TAPE,NT)
REQUEST,TNUC,*PF.
REQUEST,TOVL,*PF.
REQUEST,TA68L,*PF.
REQUEST,TAL5L,*PF.
REQUEST,TPL1L,*PF.
REQUEST,TMNFL,*PF.
COMMENT. EXTRACT UMP PP ROUTINE REQUIRED FOR MNF PMD
COPYBF,TAPE,TEMP.
REWIND,TEMP.
SKIPF,TEMP,144.
COPYBR,TEMP,UMP.
REWIND,UMP.
RETURN,TEMP.
REWIND,TAPE.
COMMENT. COPY LIBRARIES FROM DS TAPE
EDITLIB(SYSTEM,ERROR=6)
COMMENT. PUT UMP INTO USERPP
ATTACH,USERPP,ID=CCT,PW=XYZ,RW=1.
EDITLIB(SYSTEM,MSGL=6,ERROR=3)
EXTEND(USERPP)
RETURN,USERPP.
CATALOG,TNUC,ID=CCT.
CATALOG,TOVL,ID=CCT.
CATALOG,TA68L,ID=CCT.
CATALOG,TAL5L,ID=CCT.
CATALOG,TPL1L,ID=CCT.
CATALOG,TMNFL,ID=CCT.
COMMENT. *** XTRACT COMPLETE ***
EXIT(S)
COMMENT. *** XTRACT FAILED ***
~eor
LIBRARY(TNUC,NEW)
SKIPF(1,TAPE,F)
ADD(*,TAPE)
FINISH.
LIBRARY(TOVL,NEW)
ADD(*,TAPE)
FINISH.
LIBRARY(TAL5L,NEW)
SKIPF(13,TAPE,F)
ADD(*,TAPE)
FINISH.
LIBRARY(TPL1L,NEW)
SKIPF(1,TAPE,F)
ADD(*,TAPE)
FINISH.
LIBRARY(TA68L,NEW)
ADD(*,TAPE)
FINISH.
LIBRARY(TMNFL,NEW)
SKIPF(1,TAPE,F)
ADD(*,TAPE)
FINISH.
ENDRUN.
~eor
LIBRARY(USERPP,OLD)
REPLACE(UMP,UMP)
FINISH.
ENDRUN.
~eor
~eoi
